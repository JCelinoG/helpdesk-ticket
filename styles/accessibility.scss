@import 'variables';

// High contrast modee support
@media (prefers-contrast: high) {
  .card,
  .content,
  .modal {
    border: 2px solid $text-color;
  }

  button {
    border: 2px solid currentColor;
  }
}

// Reduced motion support
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

// focus styles that respect user preferences
:focus-visible {
  outline: 3px solid $primary-color;
  outline-offset: 2px;
}

// hide focus styles for mouse users, but keep for keyboard users
:focus:not(:focus-visible) {
  outline: none;
}

// Improve text readability
p, li, span:not(.icon) {
  line-height: 1.6;
  max-width: 70ch; //opptimal line length for readability
}

// Ensure sufficient color contrast
.error {
  color: #b91c1c; // Darker red for better contrast
}

.success {
  color: #047857; // Darker green for better contrast
}

// dark mode support
@media (prefers-color-scheme: dark) {
  :root {
    --background-color: #1a1a1a;
    --text-color: #f3f4f6;
    --border-color: #374151;
    --secondary-color: #9ca3af;
  }

  body {
    background-color: var(--background-color);
    color: var(--text-color);
  }

  .card,
  .content,
  .modal {
    background-color: #2d2d2d;
    border-color: var(--border-color);
  }

  input,
  textarea,
  select {
    background-color: #2d2d2d;
    color: var(--text-color);
    border-color: var(--border-color);

    &:focus {
      border-color: $primary-color;
    }
  }
}